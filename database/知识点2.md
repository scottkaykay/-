## E-R图三要素

实体（表），属性（表中的字段），联系（表与表间的联系）

## 排它锁和共享锁

由于并发的存在可能导致数据的不一致性，锁的出现就是在某一个操作的过程中禁止某些操作，在一段时间之内避免出现数据的不一致性。\
脏读：又称为无效数据的读出，指在数据库访问中，事务T1将某一值修改，事务T2读取该值，此后T1因为某种原因撤销了对该值的修改，导致T2读出的数据是无效的。

共享锁：

又称读锁，获得共享锁可以读取数据，不能修改和删除数据。如果一个事务对数据对象加上了共享锁，那么其他事务也只能对该对象加共享锁，不能加排它锁。保证可以并发读取数据，同时不会有其他事务修改数据。

排它锁：

又称为写锁，独占锁。如果事务T对数据对象A加上排它锁，则**只允许T读取和修改A**，其他任何事务都不能对A加任何类型的锁，直到T释放A上的锁。

## 分布式数据库

分布式数据库系统，简称为DDBS,源于两种数据处理方法的结合：数据库系统DBS,计算机网络。

将一群分布在计算机网络上，逻辑上相互关联的数据库称为分布式数据库。分布式数据库的基本思想是将原来集中式数据库中的数据分散存储到网络的不同节点上，以获得更大的存储容量和更高的并发访问量。

## 分布式缓存

分布式缓存指的是与应用分离的缓存组件或服务，其最大的优点是自身是一个独立的应用，与本地应用分离，多个应用共享。主要应用场景如下：缓存经过复杂计算得出的数据； 缓存 存储系统中频繁访问的热点数据，减轻存储系统的压力。

分布式缓存系统一般有Memcached和Redis. Memcached是一个高性能，分布式内存对象缓存系统，通过在内存里维护一个统一的巨大的哈希表，能存储各种格式的数据，包括图像，音视频文件以及数据库检索的结果；Redis是一个远程内存数据库，具有复制特性以及解决问题而生的独一无二的数据模型。

如何实现数据的一致性：缓存和数据库不一致，主要是因为网络不稳定或节点故障导致的，主流方法：CAP:\
· 请求查缓存，缓存没有就去数据库查，查到之后添加到缓存。\
· 数据更新，先更新数据库，然后删除相应的缓存

## Redis快速的原理

纯内存操作，单线程操作，避免了频繁的上下文切换。采用了非阻塞的IO多路复用

## 缓存相关问题

缓存穿透： 要访问的数据在数据库中不存在
