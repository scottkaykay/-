## 线程是不是越多越好，为什么

· 在太多线程之间分配固定数量的工作会使每个线程的工作量太少，大量线程的启动，上下文切换，终止产生了很多不值得的开销。\
· 内存资源和CPU的运算资源都是有限的，操作系统本身对线程数也是有限制的\
· 线程过多容易争用资源，发生死锁

线程的创建和销毁需要消耗不少时间，因此出现了线程池，可以避免频繁创建线程

## 线程池中线程数量的评估

· 堵塞系数blocking coefficient

线程数=CPU可用核心数/(1-阻塞系数)，其中阻塞系数的取值在0和1之间\
如一个线程完成一个任务需要10s,但是9s在等待，1s在计算，则堵塞系数为：9/10=0.9

· 结合CPU利用率

线程数=CPU核心数\*CPU利用率\*（1+W/C）   W:等待时间  C:计算时间

## 共享内存底层实现原理

https://blog.csdn.net/wolf_love666/article/details/93594874
