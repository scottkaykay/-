## 宏定义和内联函数的区别

· 宏定义不是函数，但使用起来像函数。预处理器用复制宏代码的方式代替函数调用，省去了函数压栈出栈过程，提高了效率。内联函数本质上是函数，一般用于函数体的代码比较简单时的情况，如果函数体过大，编译器会自动把这个内联函数
变成普通函数。内联函数本身不能调用自身。\
· 宏定义是在预编译的时候把所有的宏名用宏体来替换，即简单的字符串替换；内联函数是在编译的时候进行代码插入，编译器会在调用内联函数的地方直接把内联函数内容展开，可以省去调用函数的开销，提高效率。\
· 宏定义是没有类型检查的，无论对还是错都是直接替换，内联函数在编译时进行类型安全检查\

## 内联函数和普通函数的区别

· 内联函数和普通函数的参数传递机制相同，但是编译器会在每处调用内联函数的地方将内联函数内容展开，避免函数调用的开销又没有宏机制的缺陷\
· 普通函数在被调用的时候，系统首先要到函数的入口地址去执行函数体，执行完成之后再回到函数调用的地方继续执行；内联函数不需要寻址，当执行到内联函数的时候，将此函数展开，如果程序中有N次调用了内联函数则会有N次展开函数代码\
· 内联函数有一定的限制，内联函数体要求代码简单，不能包含复杂的结构控制语句，如果内联函数体过于复杂会自动转换为普通函数。

内联函数一般是1~5行的小函数，如果引入循环分支，其本身执行的复杂度就可能很大了(此时函数调用开销几乎可忽略)，此时内联函数就失去了意义，即内联函数失效。
